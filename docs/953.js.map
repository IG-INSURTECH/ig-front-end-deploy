{"version":3,"mappings":"iRA8BYA,yDAMAA,gBAAuBA,iBAAKA,SC9BxC,MAAMC,EAAiB,CACrB,CAAEC,KAAM,GAAIC,UCKd,MAAM,QAIJC,YACUC,EACAC,EACAC,EACAC,GAHAC,mBACAA,cACAA,eACAA,eANHA,cAAmB,EAS1BC,WACED,KAAKE,UAAYF,KAAKJ,YAAYO,MAAM,CACtCC,SAAU,CAAC,GAAG,CAACC,gBACfC,SAAU,CAAC,GAAG,CAACD,kBAGjBL,KAAKF,QAAQS,eAAc,GAC3BC,aAAaC,QAGfC,QACEV,KAAKD,QAAQY,MAAMX,KAAKE,UAAUU,OAAOC,UAAUC,IACjDd,KAAKe,SAAU,EACbC,QAAQC,IAAIH,GACZI,EAAYC,cACVnB,KAAKH,OAAOuB,SAAS,CAAC,SACtBpB,KAAKF,QAAQuB,iBAAiB,cAAcP,EAASK,cACrDnB,KAAKF,QAAQS,eAAc,IAE3BP,KAAKe,SAAU,IAKvBO,WAAW7B,GACTO,KAAKH,OAAOuB,SAAS,CAAC3B,IAGxB8B,iBACE,OAAO,IAAIC,MAAOC,4DAxCTC,GAAcnC,wEAAdmC,EAAcC,mvBFZ3BpC,iBAAuB,UAAvBA,CAAuB,UAAvBA,CAAuB,UAAvBA,CAAuB,QAMXA,wBAAYA,QAChBA,cAAIA,2BAAeA,QACnBA,kBAA8BA,mCAAYqC,YACxCrC,4BAIC,gBACYA,qBAAQA,QACnBA,oBAKFA,QACAA,6BAAkD,gBACrCA,qBAAQA,QACnBA,oBACFA,QACAA,qBAKEA,yCAMAA,0BACFA,YAGJA,mBAAkB,WACuCA,6BAAgBA,uBAjCjEA,wCAoBFA,yDAGGA,iCAKIA,6l3NExBNmC,GAAb,KDOO,IAAMG,EAAb,MAAM,sDAAOA,4DAPF,CACPC,KACAC,KACAC,cAAsBxC,OAIbqC,GAAb","names":["i0","routes","path","component","constructor","formBuilder","router","authSvc","httpSvc","this","ngOnInit","loginForm","group","userName","Validators","password","SetIsLoggedIn","localStorage","clear","login","Login","value","subscribe","response","loading","console","log","o","access_token","navigate","StoreAccessToken","nagivateTo","getCurrentYear","Date","getFullYear","LoginComponent","selectors","ctx","LoginModule","CommonModule","FormsModule","RouterModule"],"sources":["./src/app/pages/login/login.component.html","./src/app/pages/login/login.module.ts","./src/app/pages/login/login.component.ts"],"sourcesContent":["<div class=\"container\">\r\n  <div class=\"row vh-100 d-flex align-items-center justify-content-center px-3\">\r\n    <div class=\"col-12 col-sm-8 col-md-6 col-lg-4\">\r\n      <div\r\n        class=\"form-container p-5 border border-secondary rounded-1 shadow-lg\"\r\n      >\r\n        <h4>IG INSURTECH</h4>\r\n        <h5>MICRO INSURANCE</h5>\r\n        <form [formGroup]=\"loginForm\" (ngSubmit)=\"login()\">\r\n          <mat-form-field\r\n            class=\"app-form-field\"\r\n            appearance=\"fill\"\r\n            class=\"d-block\"\r\n          >\r\n            <mat-label>Username</mat-label>\r\n            <input\r\n              matInput\r\n              formControlName=\"userName\"\r\n              placeholder=\"example@gmail.com\"\r\n            />\r\n          </mat-form-field>\r\n          <mat-form-field appearance=\"fill\" class=\"d-block\">\r\n            <mat-label>Password</mat-label>\r\n            <input matInput formControlName=\"password\" type=\"password\" />\r\n          </mat-form-field>\r\n          <button\r\n            type=\"submit\"\r\n            class=\"w-100 btn\"\r\n            [disabled]=\"!loginForm.valid || loading\"\r\n          >\r\n            <mat-progress-spinner\r\n              *ngIf=\"loading\"\r\n              class=\"btn-loading\"\r\n              mode=\"indeterminate\"\r\n              diameter=\"24\"\r\n            ></mat-progress-spinner>\r\n            <span *ngIf=\"!loading\">Login</span>\r\n          </button>\r\n        </form>\r\n      </div>\r\n      <div class=\"mt-1\">\r\n        <a class=\"register-link\" routerLink=\"/forget-password\">forget password?</a>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LoginComponent } from './login.component';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule, Routes } from '@angular/router';\n\nconst routes: Routes = [\n  { path: '', component: LoginComponent }\n];\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild(routes)\n  ],\n})\n\nexport class LoginModule { }\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, Validators } from '@angular/forms'\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\n\r\nimport { HttpService } from 'src/app/services/http.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  public loginForm:any;\r\n  public loading: boolean = false;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private router: Router,\r\n    private authSvc: AuthService,\r\n    private httpSvc: HttpService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.loginForm = this.formBuilder.group({\r\n      userName: ['',[Validators.required]],\r\n      password: ['',[Validators.required]],\r\n    });\r\n\r\n    this.authSvc.SetIsLoggedIn(false);\r\n    localStorage.clear();\r\n  }\r\n\r\n  login():void {\r\n    this.httpSvc.Login(this.loginForm.value).subscribe(response => {\r\n      this.loading = true;\r\n        console.log(response)\r\n        if(response.access_token){\r\n          this.router.navigate(['home']);\r\n          this.authSvc.StoreAccessToken('accessToken',response.access_token);\r\n          this.authSvc.SetIsLoggedIn(true);\r\n        }else{\r\n          this.loading = false;\r\n        }\r\n    });\r\n  }\r\n\r\n  nagivateTo(path: string): void {\r\n    this.router.navigate([path])\r\n  }\r\n\r\n  getCurrentYear(): number {\r\n    return new Date().getFullYear();\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///","file":"953.js"}